@import "o-assets/main";
@import "o-grid/main";
@import "o-fonts/main";
@import "o-colors/main";
@import "o-hoverable/main";

@import '_variables';
@import '_mixins';

/* Load fonts */
@if (not $o-ft-header-is-silent) {
	@include oFontsInclude(BentonSans);
}

@if ($o-ft-header-sticky) {
	@if (length($o-ft-header-sticky) > 0) {
		
		@if (length($o-ft-header-sticky) < 4) {
			@include oFtHeaderPositionStatic();
		}

		@if (length($o-ft-header-sticky) == 4) {
			@include oFtHeaderPositionFixed();
		} @else {
			@each $layout in $o-ft-header-sticky {
				@include oGridRespondTo($layout) {
					@include oFtHeaderPositionFixed(); 
				}
			}				
		}	

	} @else {
		@include oFtHeaderPositionFixed();
	}
	
} @else {
	@include oFtHeaderPositionStatic();
}

.o-ft-header {
    margin-bottom: 10px;
}

.o-ft-header__topbar {
    height: 50px;
    background-color: oColorsGetColorFor(header-background);
}

.o-ft-header__topbar__content {
	@extend %o-grid-row;
	@extend %o-grid-col;
	@extend %o-grid-colspan-12;
	@extend %o-grid-no-right-gutter;
}

.o-ft-header__logo {
	display: block;
	padding: 11px 0 31px;
	width: 82px;
	height: 35px;
	font-size: 50px;
	text-align: center;
	line-height: 35px;
	color: oColorsGetColorFor(ft-initials, text);
	float: left;
	background: #ffe2c6; 
	background: -moz-linear-gradient(top,  #ffe2c6 0%, #f7d8b9 100%); /* FF3.6+ */
	background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ffe2c6), color-stop(100%,#f7d8b9)); /* Chrome,Safari4+ */
	background: -webkit-linear-gradient(top,  #ffe2c6 0%,#f7d8b9 100%); /* Chrome10+,Safari5.1+ */
	background: -o-linear-gradient(top,  #ffe2c6 0%,#f7d8b9 100%); /* Opera 11.10+ */
	background: -ms-linear-gradient(top,  #ffe2c6 0%,#f7d8b9 100%); /* IE10+ */
	background: linear-gradient(to bottom,  #ffe2c6 0%,#f7d8b9 100%); /* W3C */

	> abbr {	
		display: block;
		height: 35px;
		width: 100%; // needed for firefox
		background: url(oFtHeaderAsset("img/ft-logo.gif")) no-repeat; 
		background: url("data:image/svg+xml;utf-8,<svg xmlns='http://www.w3.org/2000/svg' fill='#{oColorsGetColorFor(ft-initials, text)}' viewBox='0 0 208.833 115.417' width='82' height='35' class='o-ft-header__logo__ft-initials'><path d='M37.753,97.264c0,12.081,3.225,13.439,17.001,13.952v4.421H0v-4.421c11.393-0.513,14.621-1.871,14.621-13.952V18.376c0-12.092-3.229-13.449-14.281-13.954V0h96.58l0.688,25.505h-4.762c-4.083-12.924-8.507-17-31.123-17H44.204c-5.262,0-6.451,1.183-6.451,5.95V51.02h8.628c18.029,0,21.942-3.24,24.15-15.315h4.42V76.52h-4.42c-2.378-13.604-9.184-17.002-24.15-17.002h-8.628V97.264z'></path><path d='M206.289,0H104.941l-2.354,25.514h5.81c3.713-12.497,9.17-17.008,21.369-17.008h14.284v88.758c0,12.081-3.23,13.439-16.323,13.952v4.421h55.779v-4.421c-13.96-0.513-16.327-1.871-16.327-13.952V8.505h14.278c12.206,0,17.669,4.512,21.373,17.008h5.81L206.289,0z'></path></svg>") no-repeat;
		text-indent: 100%;
		whitespace: nowrap;
		overflow: hidden;
	}
}

@media print {
	.o-ft-header__logo abbr {
		text-indent: 0;
	}	
}

.o-ft-header__topbar__items {
	text-align: right;
	overflow: hidden;
	height: 50px;
	float: right;
}

$o-ft-header-topbar-item-selector: #{'%o-ft-header__topbar__item'};
$o-ft-header-topbar-item-active-selector: #{'%o-ft-header__topbar__item--active'};

@if (not $o-ft-header-is-silent) {
	$o-ft-header-topbar-item-selector: append($o-ft-header-topbar-item-selector, #{'.o-ft-header__topbar__item'}, comma);
	$o-ft-header-topbar-item-active-selector: append($o-ft-header-topbar-item-active-selector, #{'.o-ft-header__topbar__item--active'}, comma);
}

@mixin _oFtHeaderItemActiveStyles () {
	color: oColorsGetColorFor(header-item-active-text);
	background-color: oColorsGetColorFor(header-item-active-background);
}

#{$o-ft-header-topbar-item-selector} {
	float: left;
	min-width: 50px;
	height: 50px;
	text-align: center;
	color: oColorsGetColorFor(header-item-text);
	background-color: oColorsGetColorFor(header-item-background);
	border-right: 1px solid oColorsGetColorFor(header-item-border);
	font-family: $o-fonts-bentonsans-normal;
	font-size: 25px;
	line-height: 50px;
	cursor: pointer;

	#{$o-hoverable-if-hover-enabled} &:hover {
		@include _oFtHeaderItemActiveStyles();
	}		
	&:first-child {
		border-left: 1px solid oColorsGetColorFor(header-item-border);
	}
}

@include oGridRespondTo(S M) {
	#{$o-ft-header-topbar-item-selector}  {
		&:last-child {
			border-right: none;
		}
	}

	#{$o-ft-header-topbar-item-active-selector} {
		border-right: none;
	}
}


#{$o-ft-header-topbar-item-active-selector} {
	@include _oFtHeaderItemActiveStyles();
}